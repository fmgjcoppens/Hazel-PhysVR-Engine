### PROJECT SETUP
## General project settings
cmake_minimum_required(VERSION 3.22)
project(HazelPhysVREngine)
set(CMAKE_CXX_STANDARD 14)

## Toplevel name and project dirs
set(ENGINE_NAME HazelPVR)
set(SRC_DIR src/)
set(INCL_DIR include/)
set(LIB_DIR lib/)

## Hazel source & include dirs
set(ENGINE_SRC_DIR ${SRC_DIR}/${ENGINE_NAME})
set(ENGINE_INCL_DIR ${INCL_DIR}/${ENGINE_NAME})

## Logger include dir
set(LOGGER_INCL_DIR ${LIB_DIR}/spdlog/include/)



### SOURCES AND HEADERS TO TRACK
## Hazel headers and sources
set(ENGINE_HEADERS
        ${ENGINE_INCL_DIR}/Application.h
        ${ENGINE_INCL_DIR}/Core.h
        ${ENGINE_INCL_DIR}/EntryPoint.h
        ${ENGINE_INCL_DIR}/Log.h)

set(ENGINE_SRCS
        ${ENGINE_SRC_DIR}/Core.cpp
        ${ENGINE_SRC_DIR}/Log.cpp)
## Hazel headers and sources

## SandboxApp headers and sources
set(SANDBOX_HEADERS
        ${INCL_DIR}/HazelPVR.h
        ${ENGINE_INCL_DIR}/Application.h)

set(SANDBOX_SRCS
        ${SRC_DIR}/SandboxApp.cpp
        ${ENGINE_SRC_DIR}/Application.cpp)
## SandboxApp headers and sources



### BUILD TARGETS
## Hazel build target
add_library(
        ${ENGINE_NAME} SHARED
        ${ENGINE_SRCS}
        ${ENGINE_HEADERS}
)

target_include_directories(
        ${ENGINE_NAME} PRIVATE
        ${ENGINE_INCL_DIR}
        ${LOGGER_INCL_DIR}
)
## Hazel build target

## SandboxApp build target
add_executable(
        SandboxApp
        ${SANDBOX_SRCS}
        ${SANDBOX_HEADERS}
)

target_include_directories(
        SandboxApp PRIVATE
        ${INCL_DIR}
        ${ENGINE_INCL_DIR}
        ${LOGGER_INCL_DIR}
)
## SandboxApp build target



### LINKING
## Link SandboxApp and Hazel
target_link_libraries(SandboxApp ${ENGINE_NAME})
## Link SandboxApp and Hazel
